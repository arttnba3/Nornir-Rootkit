# SPDX-License-Identifier: GPL-2.0

$(MODULE_NAME)-$(CONFIG_NORNIR_HIDE_FILE)                           += fs/hide.o
$(MODULE_NAME)-$(CONFIG_NORNIR_HIDE_FILE)                           += fs/syscall.o

# hook points
ccflags-$(CONFIG_NORNIR_HIDE_FILE)                                  += -DCONFIG_NORNIR_HIDE_FILE
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS)                  += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_INLINE)           += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_INLINE
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_FTRACE)           += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_FTRACE
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_FILLDIR)          += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_FILLDIR
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_SYSCALL)          += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_SYSCALL
ccflags-$(CONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_SYSCALL_TABLE)    += -DCONFIG_NORNIR_HIDE_FILE_HIJACK_GETDENTS_SYSCALL_TABLE

# ext4 fs
$(MODULE_NAME)-$(CONFIG_NORNIR_HIDE_FILE_EXT4)                      += fs/ext4.o
ccflags-$(CONFIG_NORNIR_HIDE_FILE_EXT4)                             += -DCONFIG_NORNIR_HIDE_FILE_EXT4
